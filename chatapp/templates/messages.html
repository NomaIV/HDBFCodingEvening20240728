{% load static %}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<link rel="stylesheet" href="{% static 'chatapp/styles.css'%}">

{% block content %}
<div class="container">
    <!--Section 1: show users online (left side)-->
    <div class="left-side">
        <h2>Users Online</h2>
        <ul>
            {% for user_profile in user_profiles %}
            <li> {{ user_profile.user.username}} - {{user_profile.status }} {% if user_profile.online%} (Online) {% endif %} </li>
            {% endfor %}
        </ul>
    </div>

    <!--Section 2: Chat Messages (middle)-->
    <div class="middle">
        <h2>Chat</h2>
        <div class="messages">
            <p><strong> {{message.user.username}}: </strong> {{message.text}}</P>
                {% if message.images %}
                <img scr="{{message.images.url}}" alt="Image">
                {% endif %}
                {% if message.videos %}
                <video scr="{{message.videos.url}}" controls></video>
                {% endif %}
                {% if message.voice_notes %}
                <audio scr="{{message.voice_notes.url}}" controls></audio>
                {% endif %}
        </div>

    </div>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <textarea name="message_text" placeholder="Type your message here...."></textarea>
        <input type="file" name="image">
        <input type="file" name="video">
        <input type="file" name="voice_note">
        <button type="submit">Send</button>
    </form>
    </div>

<!---Section 3: User Profile information (right side)-->
    <div class="right-side">
        <h2>User Profile Information</h2>
        <p> Display user information here.</p>
    </div>
</div>

{% endblock content %}